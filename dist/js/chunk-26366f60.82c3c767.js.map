{"version":3,"sources":["webpack:///./src/components/fields/1_to_m/ChangeInSlide.vue?dd6b","webpack:///./src/components/fields/1_to_m/form.vue?1acf","webpack:///./src/components/fields/1_to_m/slide.vue?f2cd","webpack:///./src/components/fields/1_to_m.vue?7a69","webpack:///./src/components/fields/1_to_m/slide.vue?90a3","webpack:///./src/components/fields/1_to_m/ChangeInSlide.vue?f38a","webpack:///src/components/fields/1_to_m/ChangeInSlide.vue","webpack:///./src/components/fields/1_to_m/ChangeInSlide.vue?b080","webpack:///./src/components/fields/1_to_m/ChangeInSlide.vue","webpack:///src/components/fields/1_to_m/slide.vue","webpack:///./src/components/fields/1_to_m/slide.vue?9acf","webpack:///./src/components/fields/1_to_m/slide.vue","webpack:///./src/components/fields/1_to_m/form.vue?93b1","webpack:///src/components/fields/1_to_m/form.vue","webpack:///./src/components/fields/1_to_m/form.vue?ee32","webpack:///./src/components/fields/1_to_m/form.vue","webpack:///src/components/fields/1_to_m.vue","webpack:///./src/components/fields/1_to_m.vue?ac5a","webpack:///./src/components/fields/1_to_m.vue","webpack:///./src/components/fields/1_to_m.vue?6332"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","form","field","dialog","set_dialog","values","upload_values","model","value","callback","$$v","dialog_multiload","expression","staticClass","_v","multiload_name","on","$event","start_multiload","_e","id","preventDefault","open_new_dialog","start_dialog_multiload","staticRenderFns","length","del_errors_out","_l","e","key","_s","view_type","sort","move_end","list","v","vi","h","hidx","name","cur_refresh","description","type","domProps","download_file_block","ch_id","child_field_read_only","del_file","get_value_for_slide","read_only","open_edit_dialog","del","test","cur_field","parent_sub","after_html","directives","rawName","staticStyle","idx","go_save","props","computed","cur_id","update_cur_value","$on","data","errors","save_ok","view_saved","setTimeout","watch","methods","f","fields","k","obj","error","$emit","subfield","component","VIcon","components","ChangeInSlide","del_errors","colors_primary","make_delete","table_id","sort_hash","i","$http","post","BackendBase","config","then","catch","parseInt","cf","get_field_by_name","get_header_from_select","d","url","get","response","D","success","new_list","cv","push","start_dialog_errors","child_name","new_values","child_id","orig_name","link","desc","view","make_view","preview","VCard","VCardTitle","VDialog","VLayout","in_dialog","save_action","edit_fields","dialog_errors","save","create_edit_fields","change_one_to_m","Math","random","undefined","upload_selector","document","querySelector","reset","toString","new_fld","Object","assign","formData","FormData","file","files","append","headers","console","save_files","add_form","VBtn","cnt_files","name_multiload","not_create","hash","alert","VCardText"],"mappings":"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","file":"js/chunk-26366f60.82c3c767.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeInSlide.vue?vue&type=style&index=0&id=419a7174&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeInSlide.vue?vue&type=style&index=0&id=419a7174&scoped=true&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&id=2a9af6d8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&id=2a9af6d8&scoped=true&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slide.vue?vue&type=style&index=0&id=7bb6a327&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slide.vue?vue&type=style&index=0&id=7bb6a327&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('one_to_m_form',{attrs:{\"form\":_vm.form,\"field\":_vm.field,\"dialog\":_vm.dialog,\"set_dialog\":_vm.set_dialog,\"values\":_vm.values,\"upload_values\":_vm.upload_values}}),(_vm.dialog_multiload)?[_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialog_multiload),callback:function ($$v) {_vm.dialog_multiload=$$v},expression:\"dialog_multiload\"}},[_c('v-card',{staticClass:\"one_to_m\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"\\n            Загрузка нескольких файлов\\n          \")]),_c('v-card-text',{staticClass:\"multiload\"},[_c('form',{attrs:{\"enctype\":\"multipart-form/data\"}},[_c('input',{attrs:{\"type\":\"file\",\"multiple\":\"multiple\",\"name\":this.multiload_name}})]),_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.start_multiload()}}},[_vm._v(\"Загрузить\")])],1)],1)],1)]:_vm._e(),(!_vm.form.id)?[_c('p',[_vm._v(\"Данный блок можно редактировать только после создания основной карты\")])]:(_vm.make_create)?[(!_vm.dialog)?_c('a',{staticClass:\"create\",attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.open_new_dialog()}}},[_vm._v(\"добавить\")]):_vm._e(),(_vm.multiload_name)?[_vm._v(\"\\n      | \\n      \"),_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.start_dialog_multiload($event)}}},[_vm._v(\" загрузить несколько файлов\")])]:_vm._e(),(_vm.dialog)?_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.dialog=false}}},[_vm._v(\" скрыть\")]):_vm._e()]:_vm._e(),(1)?_c('slide',{attrs:{\"values\":_vm.values,\"field\":_vm.field,\"form\":_vm.form,\"upload_values\":_vm.upload_values}}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.values && _vm.values.length)?_c('div',[_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.del_errors_out),callback:function ($$v) {_vm.del_errors_out=$$v},expression:\"del_errors_out\"}},[_c('v-card',{staticClass:\"one_to_m\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"\\n            Ошибка\\n        \")]),_c('ul',{staticClass:\"del_error\"},_vm._l((_vm.del_errors),function(e){return _c('li',{key:e},[_vm._v(_vm._s(e))])}),0)],1)],1),(_vm.field.view_type=='list')?[_c('v-layout',[_c('draggable',{attrs:{\"tag\":\"div\",\"draggable\":_vm.field.sort?'.v-card':false},on:{\"end\":_vm.move_end},model:{value:(_vm.list),callback:function ($$v) {_vm.list=$$v},expression:\"list\"}},_vm._l((_vm.list),function(v,vi){return _c('v-card',{key:v[vi],staticClass:\"one_to_m\"},[_vm._l((_vm.field.headers),function(h,hidx){return [(v[h.name])?_c('div',{key:h[hidx]},[(h.change_in_slide)?[_c('change_in_slide',{attrs:{\"refresh\":_vm.cur_refresh,\"form\":_vm.form,\"field\":_vm.field,\"name\":h.name,\"cur_id\":v.id,\"values\":v}})]:[_c('span',{staticClass:\"h\"},[_vm._v(_vm._s(h.description)+\":\")]),(h.type=='file')?[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.download_file_block(h.name,_vm.ch_id(v),v[h.name+'_filename']))}}),(v[h.name+'_filename'] && !_vm.child_field_read_only(h.name))?_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.del_file(h.name,_vm.ch_id(v))}}},[_vm._v(\"удалить\")]):[_vm._v(\"-\")]]:[_vm._v(\"\\n\\n                                \"+_vm._s(_vm.get_value_for_slide(h,v))+\"\\n                            \")]]],2):_vm._e()]}),_c('div',{staticClass:\"controls\"},[(!_vm.field.read_only)?_c('v-icon',{staticClass:\"edit\",attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.open_edit_dialog(v)}}},[_vm._v(\"edit\")]):_vm._e(),(_vm.make_delete)?_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.del(v)}}},[_vm._v(\"delete\")]):_vm._e()],1)],2)}),1)],1)]:[_c('table',{staticClass:\"one_to_m\"},[_c('thead',[_c('tr',[_vm._l((_vm.field.headers),function(h){return _c('th',{key:h.name},[_vm._v(_vm._s(h.description))])}),_c('th')],2)]),_c('draggable',{attrs:{\"tag\":\"tbody\",\"draggable\":_vm.field.sort?'tr':false},on:{\"end\":_vm.move_end},model:{value:(_vm.list),callback:function ($$v) {_vm.list=$$v},expression:\"list\"}},_vm._l((_vm.list),function(v){return _c('tr',{key:_vm.ch_id(v)},[_vm._l((_vm.field.headers),function(h){return _c('td',{key:h.name},[(h.change_in_slide)?[_c('change_in_slide',{attrs:{\"refresh\":_vm.cur_refresh,\"form\":_vm.form,\"field\":_vm.field,\"name\":h.name,\"cur_id\":v.id,\"values\":v}})]:[(h.type=='file')?_c('span',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.download_file_block(h.name,_vm.ch_id(v),v[h.name+'_filename']))}}),(v[h.name+'_filename'] && !_vm.child_field_read_only(h.name))?_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.del_file(h.name,_vm.ch_id(v))}}},[_vm._v(\"удалить\")]):[_vm._v(\"-\")]],2):_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.get_value_for_slide(h,v))}})]],2)}),_c('td',{staticClass:\"tool\"},[(!_vm.field.read_only)?_c('a',{attrs:{\"href\":'/-'+_vm.ch_id(v)},on:{\"click\":function($event){$event.preventDefault();return _vm.open_edit_dialog(v)}}},[_c('v-icon',{staticClass:\"edit\",attrs:{\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\"edit\")])],1):_vm._e(),(_vm.make_delete)?_c('a',{attrs:{\"href\":'/-'+_vm.ch_id(v)},on:{\"click\":function($event){$event.preventDefault();return _vm.del(v)}}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\"delete\")])],1):_vm._e()])],2)}),0)],1)]],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(1)?[(/^(textarea|text)$/.test(_vm.cur_field.type))?[_c('field-text',{attrs:{\"refresh\":_vm.cur_refresh,\"field\":_vm.cur_field,\"parent\":_vm.parent_sub}})]:_vm._e(),(/^(checkbox|switch)$/.test(_vm.cur_field.type))?_c('field-checkbox',{attrs:{\"field\":_vm.cur_field,\"parent\":_vm.parent_sub}}):_vm._e()]:_vm._e(),(_vm.cur_field.after_html)?[_vm._v(\"\\n        \"+_vm._s(_vm.cur_field.after_html)+\"\\n    \")]:_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.view_saved),expression:\"view_saved\"}],staticClass:\"saved\",staticStyle:{\"position\":\"relative\",\"top\":\"0px\"}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"green\"}},[_vm._v(\"fa fa-save\")])],1),_c('div',{staticClass:\"errors\"},_vm._l((_vm.errors),function(e,idx){return _c('div',{key:'error'+idx},[_vm._v(_vm._s(e))])}),0)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <span>  \n        \n        <template v-if=\"1\">\n            <template v-if=\"/^(textarea|text)$/.test(cur_field.type)\">\n                <field-text :refresh=\"cur_refresh\" :field=\"cur_field\" :parent=\"parent_sub\"></field-text>\n            </template>\n            <field-checkbox v-if=\"/^(checkbox|switch)$/.test(cur_field.type)\" :field=\"cur_field\" :parent=\"parent_sub\" />\n        </template>\n        <template v-if=\"cur_field.after_html\">\n            {{cur_field.after_html}}\n        </template>\n        <div class=\"saved\" v-show=\"view_saved\" style=\"position: relative; top: 0px;\">\n            <v-icon small color=\"green\" >fa fa-save</v-icon>\n        </div>\n        <div class=\"errors\">\n            <div v-for=\"(e,idx) in errors\" :key=\"'error'+idx\">{{e}}</div>\n        </div>\n\n    </span>\n</template>\n<script>\nimport { bus } from '../../../main';\nlet go_save=0;\nexport default {\n    name:'change_in_slide',\n    props:[\"form\",\"field\",\"name\",\"field\",\"cur_id\",\"values\",\"refresh\"],\n\n    computed:{\n        value_for_parent(){\n            return '1_to_m:'+this.field.name+':'+this.name+':'+this.cur_id\n        },\n        id_for_saved(){\n            return '1_to_m_'+this.field.name+'_'+this.name+'_'+this.cur_id\n        }\n    },\n    created(){\n        this.update_cur_value();\n        bus.$on(\n            '1_to_m:change_in_slide:'+this.field.name+':'+this.name+':'+this.cur_id,\n            data=>{\n\n                if(data.errors)\n                    this.errors=data.errors\n\n                if(data.save_ok){ // показываем сообщение, что сохранено\n                    this.errors=[];\n                    this.view_saved=true;\n                    setTimeout(()=>{this.view_saved=false},500)\n                }\n\n            }\n        )\n    },\n    watch:{\n        refresh(){            \n            this.update_cur_value();\n        }\n    },\n    data:function(){\n        return {\n            cur_field:{\n                value:''\n            },\n            errors:[],\n            cur_refresh:0,\n            view_saved:false,\n        }\n    },\n    methods:{\n        update_cur_value(){ // если обновили через форму 1_to_m, то без этого не подтягивается\n            let cur_field={};\n            for(let f of this.field.fields)\n                if(f.name == this.name){\n                    \n                    for(let k in f){\n                        this.cur_field[k]=f[k];\n                    }\n                    \n                    this.cur_field.value=this.values[this.name];\n                    \n                }\n            this.cur_refresh++;\n        },\n        parent_sub(obj){\n            let value=obj.value\n            if(obj.error) return;\n            \n            if(/^(checkbox|switch)$/.test(this.type)){\n                value=value?1:0;\n            }\n            this.cur_field.value=value;\n            go_save++;\n            setTimeout(\n              ()=>{\n                    go_save--;\n                    if(go_save==0){\n                        bus.$emit('save_field_1_to_m',{\n                            field:this.field.name,\n                            subfield:this.name,\n                            id:this.cur_id,\n                            value:value\n                        })\n                  }\n              },\n              400 // интервал сохранения\n            );\n          \n        }\n    }\n}\n</script>\n<style scoped>\n    .errors {color: red;}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeInSlide.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChangeInSlide.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeInSlide.vue?vue&type=template&id=419a7174&scoped=true&\"\nimport script from \"./ChangeInSlide.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeInSlide.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeInSlide.vue?vue&type=style&index=0&id=419a7174&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"419a7174\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VIcon})\n","<template>\n    <!-- slide -->\n    \n    <div v-if=\"values && values.length\">      \n        <v-dialog v-model=\"del_errors_out\" max-width=\"500\">\n        <v-card class=\"one_to_m\" >\n            <v-card-title  class=\"headline\">\n                Ошибка\n            </v-card-title>\n            <ul class=\"del_error\">\n                <li v-for=\"e in del_errors\" :key=\"e\">{{e}}</li>\n            </ul>\n        </v-card>\n        </v-dialog> \n        <!-- view type: list -->\n        <template v-if=\"field.view_type=='list'\">\n            <v-layout>\n                <draggable\n                    v-model=\"list\"\n                    tag=\"div\"\n                    @end=\"move_end\"\n                    :draggable=\"field.sort?'.v-card':false\"\n                >\n                \n                    <v-card class=\"one_to_m\"  v-for=\"(v,vi) in list\" :key=\"v[vi]\" \n                        > <!--:style=\"{'background-color': $color.secondary}\"-->\n\n                    <template v-for=\"(h,hidx) in field.headers\">\n                        <div :key=\"h[hidx]\" v-if=\"v[h.name]\">\n                            <template v-if=\"h.change_in_slide\">\n                                <change_in_slide :refresh=\"cur_refresh\" :form=\"form\" :field=\"field\" :name=\"h.name\" :cur_id=\"v.id\" :values=\"v\"></change_in_slide>\n                            </template>\n                            <template v-else>\n                                \n                                <span class=\"h\">{{h.description}}:</span> \n                                <template v-if=\"h.type=='file'\">         \n                                    <span v-html=\"download_file_block(h.name,ch_id(v),v[h.name+'_filename'])\"></span>\n                                    <a v-if=\"v[h.name+'_filename'] && !child_field_read_only(h.name)\" href=\"\" @click.prevent=\"del_file(h.name,ch_id(v))\">удалить</a>\n                                    <template v-else>-</template>\n                                </template>\n                                <template v-else>\n\n                                    {{get_value_for_slide(h,v)}}\n                                </template>\n                            </template>\n                        </div>\n                    </template>\n                        <div class=\"controls\">\n                            <v-icon small class=\"edit\" color=\"primary\" v-if=\"!field.read_only\" @click=\"open_edit_dialog(v)\">edit</v-icon>\n                            <v-icon small color=\"primary\" v-if=\"make_delete\" @click=\"del(v)\">delete</v-icon>\n                        </div>\n                    </v-card>\n                </draggable>\n            </v-layout>\n        </template>\n        \n        <!-- view type: default -->\n\n        <template v-else>\n            <table class=\"one_to_m\">\n            <thead>\n                <tr>\n                    <th v-for=\"h in field.headers\" :key=\"h.name\">{{h.description}}</th>\n                    <th ></th>\n                </tr>\n            </thead>\n            <draggable\n                v-model=\"list\"\n                tag=\"tbody\"\n                @end=\"move_end\"\n                :draggable=\"field.sort?'tr':false\"\n            >\n            <tr v-for=\"v in list\" :key=\"ch_id(v)\">\n\n                <td v-for=\"h in field.headers\" :key=\"h.name\"  >\n                <template v-if=\"h.change_in_slide\">\n                    <change_in_slide :refresh=\"cur_refresh\" :form=\"form\" :field=\"field\" :name=\"h.name\" :cur_id=\"v.id\" :values=\"v\"></change_in_slide>\n                </template>\n                <template v-else>\n                    \n                    <span v-if=\"h.type=='file'\">                   \n                        <span v-html=\"download_file_block(h.name,ch_id(v),v[h.name+'_filename'])\"></span>\n                        <a v-if=\"v[h.name+'_filename'] && !child_field_read_only(h.name)\" href=\"\" @click.prevent=\"del_file(h.name,ch_id(v))\">удалить</a>\n                        <template v-else>-</template>\n                    </span>\n                    <span v-else v-html=\"get_value_for_slide(h,v)\">\n                        \n                        \n                    </span>\n                </template>\n                <!--<span v-else v-html=\"v[h.name]\"></span>-->\n                \n                \n                </td>\n                <td class=\"tool\">\n                    <a :href=\"'/-'+ch_id(v)\" v-if=\"!field.read_only\" @click.prevent=\"open_edit_dialog(v)\"><v-icon small class=\"edit\" color=\"primary\">edit</v-icon></a>\n                    <a :href=\"'/-'+ch_id(v)\" @click.prevent=\"del(v)\" v-if=\"make_delete\"><v-icon small color=\"primary\"  >delete</v-icon></a>\n                </td>\n            </tr>\n            </draggable>\n            </table>\n        </template>\n    </div>\n    <!-- /slide -->\n</template>\n<script>\n//import ChangeInSlide from './change_in_slide';\nimport { bus } from '../../../main'\nimport ChangeInSlide from './ChangeInSlide';\nexport default {\n    components:{\n       'change_in_slide': ChangeInSlide\n    },\n    props:[\"form\",\"values\",\"field\",\"upload_values\"],\n    data(){\n        return {\n            del_errors:[],\n            del_errors_out:false, // выводить ошибку при операциях с 1_to_m (удаление)\n            list:[], \n            cur_refresh:0\n        }\n    },\n    watch:{\n        values(){\n            this.cur_refresh++;\n            this.list=this.values;\n            //Math.random();\n        }\n    },\n    computed:{\n        colors_primary(){\n            return bus.colors_primary;\n            /*let arr=[]\n            for(let c in bus.colors_primary){\n                arr.push([c,bus.colors_primary[c]])\n            }\n            return arr;*/\n        },\n        make_delete(){  \n            return !this.form.read_only && this.field.make_delete && (!this.field.read_only || this.field.make_delete)\n        },\n        //list(){\n        //    return this.values\n        //}\n    },\n\n    created(){\n        this.list=this.values;\n        \n\n    },\n    methods:{\n\n        open_edit_dialog(v){\n            bus.$emit( // событие передаём в 1_to_m_form\n                '1_to_m_open_edit_dialog:'+this.field.name,\n                v\n            );\n        },\n        ch_id(v){ // возвращает id-шник записи\n            return v[this.field.table_id]\n        },\n        move_end(){\n            let sort_hash={};\n            let i=1;\n            for(let v of this.list){\n                sort_hash[this.ch_id(v)]=i++;\n            }\n            this.$http.post(\n                BackendBase+'/1_to_m/sort/'+this.form.config+'/'+this.field.name+'/'+this.form.id,\n                {\n                    sort_hash:sort_hash\n                }\n            ).then().catch(\n                e=>{\n                    this.del_errors = [e];\n                    this.del_errors_out=true;\n                }\n            )\n        },\n        get_value_for_slide(h,values){\n            let type=h.type;\n            let name=h.name;\n            let value=values[name];\n            if(type=='text' || type=='textarea' || type=='wysiwyg'){\n                return value\n            }\n            else if(type=='checkbox' || type=='switch'){\n                return parseInt(value)?'да':'нет'\n            }\n            else{\n                if(type=='select_from_table' || type=='select_values'){\n                    let cf=this.get_field_by_name(name);\n                    if(!cf)\n                        return 'не найдено поле '+name\n                    return this.get_header_from_select(cf,value)\n                }\n            }\n        },\n        get_field_by_name(name){\n            for(let f of this.field.fields)\n                if(f.name==name)\n                    return f\n            return undefined\n        },\n        get_header_from_select(cf,value){\n            for(let v of cf.values){\n                if( (value ==v.v) || ( !parseInt(value)  && !parseInt(v.v) ) )\n                    return v.d\n            }\n            return 'не указано'\n        },\n        child_field_read_only(name){\n            if(this.form.read_only || this.field.read_only)\n                return true\n            \n            for(let cf in this.field.fields){\n                if(cf.name=='name'){\n                return cf.read_only?true:false\n                }\n            }\n            return false\n        },\n        del(v){      \n            let id=v[this.field.table_id];\n            let url=BackendBase+'/1_to_m/delete/'+this.form.config+'/'+this.field.name+'/'+this.form.id+'/'+id;\n            \n            this.$http.get(url).then(\n                response=>{\n                let D=response.data;\n                if(D.success){\n                    let new_list=[];\n                    for(let cv of this.values){\n                    if(cv[this.field.table_id]!=v[this.field.table_id])\n                        new_list.push(cv)\n                    }\n                    this.upload_values(new_list)\n                    //this.values=new_list;\n                }\n                this.start_dialog_errors(D.errors);\n            \n                \n                }\n            );\n        },\n        del_file(child_name,cur_id){\n                this.del_errors = [];\n                this.$http.get(BackendBase+'/1_to_m/delete_file/'+this.form.config+'/'+this.field.name+'/'+child_name+'/'+this.form.id+'/'+cur_id).then(\n                    response=>{\n                        let D=response.data;\n                        if(D.success){\n                            let new_values=[];\n                            for(let v of this.values){\n                                if(cur_id == v[this.field.table_id])\n                                    v[child_name+'_filename']=''                            \n                                new_values.push(v);\n                            }\n                            this.upload_values(new_values)\n                        }\n                        this.start_dialog_errors(D.errors);\n\n                    }\n                )\n        },\n        download_file_block(child_name,child_id,orig_name){\n                \n            let link=BackendBase+'/1_to_m/download/'+this.form.config+'/'+this.field.name+'/'+child_name+'/'+this.form.id+'/'+child_id+'/'+orig_name;\n\n            //let cf=this.fields[child_name];\n            let cf=this.get_field_by_name(child_name);\n              \n            let desc='скачать'; let view=0;\n\n            if(!orig_name)\n                    return ''\n\n            if(this.make_view(link)){\n                desc='просмотреть';\n                \n                if(cf.preview && cf.preview.length)\n                    return `${orig_name}:<br><a href=\"${link}?view=1\" target=\"_blank\"><img src=\"${link}?view=${cf.preview}\"></a><br>`\n                \n                else\n                    return `${orig_name}: <a href=\"${link}?view=1\" target=\"_blank\">посмотреть</a> `\n            }\n            return `${orig_name}:<br><a href=\"${link}?view=${view}\">${desc}</a> `\n        },\n        make_view(f){\n            // возвращает true, если файл можно просмотреть в браузере\n            return /\\.(jpg|png|gif|gpeg|webp)$/i.test(f)\n            \n        },\n        start_dialog_errors(errors){\n            if(errors.length){\n                this.del_errors = errors;\n                this.del_errors_out=true;\n                setTimeout(\n                ()=>{\n                    this.del_errors=[];\n                    this.del_errors_out=false;\n                },\n                1500\n                );\n            }\n\n        },\n\n\n    }\n}\n</script>\n<style scoped>\n    .del_error li, .dialog_erros li {color: red; list-style-type: none;}\n    .tool a {text-decoration: none;}\n    .v-icon.edit {margin-right: 10px; }\n    .v-card.one_to_m {display: inline-block; margin-right: 20px;}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slide.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slide.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./slide.vue?vue&type=template&id=7bb6a327&scoped=true&\"\nimport script from \"./slide.vue?vue&type=script&lang=js&\"\nexport * from \"./slide.vue?vue&type=script&lang=js&\"\nimport style0 from \"./slide.vue?vue&type=style&index=0&id=7bb6a327&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bb6a327\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VCardTitle,VDialog,VIcon,VLayout})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"justify\":\"center\",\"id\":\"is_dialog\"},model:{value:(_vm.in_dialog),callback:function ($$v) {_vm.in_dialog=$$v},expression:\"in_dialog\"}},[_c('v-card',{staticClass:\"one_to_m\"},[_c('div',{staticClass:\"dialog_head\"},[_c('div',[(_vm.save_action=='insert')?[_vm._v(\"Создание элемента\")]:_vm._e(),(_vm.save_action=='update')?[_vm._v(\"Редактирование элемента\")]:_vm._e()],2),_c('div',{staticClass:\"close\"},[_c('v-icon',{staticStyle:{\"text-align\":\"right\"},on:{\"click\":function($event){_vm.in_dialog=false}}},[_vm._v(\"mdi-close\")])],1)]),_vm._l((_vm.field.fields),function(cf){return _c('div',{key:cf.name},[(_vm.edit_fields[cf.name] && (cf.type=='text' || cf.type=='textarea'))?[_c('field-text',{attrs:{\"field\":_vm.edit_fields[cf.name],\"parent\":_vm.parent_sub,\"refresh\":_vm.cur_refresh}})]:(cf.type=='select_from_table' || cf.type=='select_values')?[_c('field-select',{attrs:{\"field\":_vm.edit_fields[cf.name],\"parent\":_vm.parent_sub,\"refresh\":_vm.cur_refresh}})]:(cf.type=='checkbox' || cf.type=='switch')?[_c('field-checkbox',{attrs:{\"field\":_vm.edit_fields[cf.name],\"parent\":_vm.parent_sub,\"refresh\":_vm.cur_refresh}})]:(cf.type=='file')?[_c('form',{staticClass:\"upload_file\",attrs:{\"enctype\":\"multipart-form/data\",\"id\":'upload_'+cf.name}},[_c('input',{attrs:{\"type\":\"file\"}})])]:_vm._e()],2)}),(_vm.dialog_errors.length)?[_c('ul',{staticClass:\"dialog_erros\"},_vm._l((_vm.dialog_errors),function(e,idx){return _c('li',{key:'dial_err'+idx},[_vm._v(_vm._s(e))])}),0)]:_vm._e(),(!_vm.form.read_only && !_vm.field.read_only)?_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.save(_vm.edit_fields,_vm.save_action)}}},[_vm._v(\"Сохранить\")]):_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog justify=\"center\" v-model=\"in_dialog\" id=\"is_dialog\">\n      <v-card class=\"one_to_m\">\n\n          \n        <div class=\"dialog_head\">\n          <div>\n            <template v-if=\"save_action=='insert'\">Создание элемента</template>\n            <template v-if=\"save_action=='update'\">Редактирование элемента</template>\n          </div>\n          <div class=\"close\">\n            <v-icon @click=\"in_dialog=false\" style=\"text-align: right\">mdi-close</v-icon>\n          </div>\n        </div>\n          <div v-for=\"cf in field.fields\" :key=\"cf.name\">\n         \n            <template v-if=\"edit_fields[cf.name] && (cf.type=='text' || cf.type=='textarea')\">\n              \n              <field-text\n                :field=\"edit_fields[cf.name]\"\n                :parent=\"parent_sub\"\n                :refresh=\"cur_refresh\"\n              />\n\n            </template>\n            \n            \n            <template v-else-if=\"cf.type=='select_from_table' || cf.type=='select_values'\">\n                \n                <field-select\n                  :field=\"edit_fields[cf.name]\"\n                  :parent=\"parent_sub\"\n                  :refresh=\"cur_refresh\"\n                />\n                <!--\n                <v-autocomplete v-if=\"cf.autocomplete\"\n                    :label=\"cf.description\"\n                    :items=\"cf.values\"\n                    filled\n                    item-value=\"v\"\n                    item-text=\"d\"\n                    no-data-text=\"ничего не найдено\"\n                    v-model=\"edit_fields[cf.name].value\"\n                >-->\n            </template>\n            <template v-else-if=\"cf.type=='checkbox' || cf.type=='switch'\">\n\n                <field-checkbox \n                  :field=\"edit_fields[cf.name]\" \n                  :parent=\"parent_sub\"\n                  :refresh=\"cur_refresh\"\n                />\n            </template>\n            <template v-else-if=\"cf.type=='file'\">\n              <form enctype=\"multipart-form/data\"  class=\"upload_file\" :id=\"'upload_'+cf.name\">\n                <input type=\"file\">\n              </form>\n            </template>\n            \n          </div>\n          \n          <template v-if=\"dialog_errors.length\">\n            <ul class=\"dialog_erros\">\n              <li v-for=\"(e,idx) in dialog_errors\" :key=\"'dial_err'+idx\">{{e}}</li>\n            </ul>\n          </template>\n          \n          <v-btn color=\"primary\" \n            v-if=\"!form.read_only && !field.read_only\"\n            @click=\"save(edit_fields,save_action)\" small>Сохранить</v-btn>\n          \n      </v-card>\n    </v-dialog>\n</template>\n<script>\nimport { bus } from '../../../main'\nexport default {\n    props:[\"form\",\"dialog\",\"field\",\"change_one_to_m\",\"set_dialog\",\n      \"values\",\"upload_values\"\n    ],\n    data(){\n        return {\n            edit_fields:{},\n            cur_refresh:0,\n            in_dialog:false,\n            fields:{},\n            save_action:'',\n            dialog_errors:[]\n        }\n    },\n    created(){\n      \n      \n      this.create_edit_fields();\n      // событие открывания формы редактирования вызывается из слайда\n      bus.$on('1_to_m_open_edit_dialog:'+this.field.name,\n        v=>{this.open_edit_dialog(v)}\n      );\n      // открываем окно для создания нового элемента (из 1_to_m по кнопке \"добавить\")\n      bus.$on('1_to_m_open_new_dialog:'+this.field.name,\n        ()=>{\n          this.open_new_dialog()}\n      )\n    },\n    watch:{\n        dialog(){ // когда открывается окно -- инитим fields\n            this.in_dialog=this.dialog;\n            this.fields=this.edit_fields\n        },\n        in_dialog(){\n            this.dialog_errors=[]\n            //this.set_dialog(this.in_dialog)\n        }\n    },\n    methods:{\n        save_cur(){\n            \n        },\n        change_field(cf){\n\n            if(!this.fields[cf.name]){\n                this.fields[cf.name]={}\n            }\n            this.fields[cf.name].value=cf.value;\n\n            this.change_one_to_m()\n        },\n        get_child_by_name(field,name){\n          for(let f of field.fields)\n            if(f.name==name)\n              return f\n          return false\n        },\n        \n        parent_sub(obj){ // для элементов fields/* правила сохранения\n          let value=obj.value;\n          if(obj.type=='checkbox' || obj.type=='switch')\n            value=value?1:0\n\n          this.edit_fields[obj.name].value=value;\n        },\n        open_new_dialog(){ // Форма для добавления\n          this.create_edit_fields();\n          this.cur_refresh=Math.random();\n          this.save_action='insert'; this.in_dialog=true;\n          this.id=undefined;\n          if(this.multiload_name){\n              let upload_selector=document.querySelector('form.upload_file');\n              if(upload_selector){\n                upload_selector.reset();\n              }\n          }\n        },\n        open_edit_dialog(d){ // открываем форму для редактирования\n          //this.create_edit_fields();\n          this.cur_refresh=Math.random();\n          this.id=d.id;\n          for(let f of this.field.fields){\n            if(this.edit_fields[f.name]){\n              this.edit_fields[f.name].value=d[f.name]\n            }\n          }\n          this.save_action='update';\n          this.new_values={};\n          let i=0;\n          this.in_dialog=true;\n        },\n        create_edit_fields(){\n          for(let f of this.field.fields){        \n            if(/^(file|text|textarea|checkbox|switch|select|select_from_table|select_values)$/.test(f.type)){\n              if(f.type=='select_from_table' || f.type=='select_values'){ // преобразование типов\n                for(let v of this.field.values){\n                  if(!v[f.name]) v[f.name]=''\n                  v[f.name]=v[f.name].toString();\n                }\n              }\n              let new_fld={};\n              Object.assign(new_fld,f);\n              \n              if(f.type=='text' || f.type=='textarea'){\n                new_fld.value='';\n              }\n              else{\n                new_fld.value=0;\n              }\n              this.edit_fields[f.name]=new_fld;\n            }\n          }\n        },\n        save_files(values){\n          let cur_id=values[this.field.table_id];\n          for(let f of this.field.fields){\n            if(f.type=='file'){\n              \n              let formData = new FormData();\n              let file = document.querySelector('#upload_'+f.name+' input[type=file]' );\n              //let form=document.getElementById('upload_'+f.name);\n              if(file.files.length){ // файлы выбраны\n                //formData.append(f.name, file.files[0]);\n                formData.append('attach', file.files[0]);\n                this.$http.post(BackendBase+'/1_to_m/upload_file/'+this.form.config+'/'+this.field.name+'/'+f.name+'/'+this.form.id+'/'+cur_id, formData, {\n                    headers: {'Content-Type': 'multipart/form-data'}\n                }).then(\n                  response=>{\n                    if(response.data.success){\n                        /*values[f.name+'_filename']=response.data.file_info.orig_name;\n                        //values[f.name+'_filename']=file.files[0]['name'];\n\n                        let table_id=this.field.table_id;\n                        let new_values=[];\n                        // обновляем this.values, чтобы сработала реактивность\n                        for(let v2 of this.values){\n                          if(v2[table_id]==values[table_id])\n                            new_values.push(values)  \n                          else\n                            new_values.push(v2)\n                        }\n                        */\n                        this.upload_values(response.data.values);\n                    }\n\n                  }\n                )\n              }\n            }\n          }\n        },\n        save(edit_fields,save_action){\n          let new_values={};\n          //проверяем, прикрепили ли файлы \n          \n          \n          for(let f of this.field.fields){\n            if(edit_fields[f.name]){\n              let v=edit_fields[f.name].value;\n              new_values[f.name]=v;\n            }\n          }\n\n          let url='';\n          //console.log('save_action: '+save_action);\n          if(save_action=='insert')\n            url=BackendBase+'/1_to_m/insert/'+this.form.config+'/'+this.field.name+'/'+this.form.id\n          else if(save_action=='update')\n            url=BackendBase+'/1_to_m/update/'+this.form.config+'/'+this.field.name+'/'+this.form.id+'/'+this.id\n          else{\n            console.error('not set save_action');\n            return; \n          }\n          \n          this.$http.post(\n            url,\n            {\n              id:this.id,\n              values:new_values\n            }\n          ).then(\n            response=>{\n                \n                let D=response.data;\n                if(D.success){\n                  \n                  this.in_dialog=false; \n                  if(!this.id)\n                    this.id=D.id\n\n                  /*\n                  let values=D.values;\n                  for(let cf of this.field.fields){ // преобразование типов для select_from_table и select_values\n                    if(cf.type=='select_values' || cf.type=='select_from_table')\n                      values[cf.name]=values[cf.name].toString();\n                  }\n                  if(save_action=='insert'){\n                    \n                    \n                    // !!! здесь нужно сделать преобразование типов для select_from_table и select_values\n                    \n                    let values_new=[];\n                    for(let v of this.values){\n                      values_new.push(v)\n                    }\n                    values_new.push(D.values); // D.values\n                    \n                    \n                  }\n                  else if(save_action=='update'){\n                    let values_new=[];\n                    let table_id=this.field.table_id;\n                    for(let v of this.values){\n                        if(v[table_id]==values[table_id])\n                          values_new.push(values)\n                        else\n                          values_new.push(v)\n                    }\n                    this.upload_values(values_new);\n                  }\n                  */\n                  this.upload_values(D.values);\n\n                  let obj=[]; obj[this.field.table_id]=this.id;\n                  \n                  this.save_files(obj);\n                  this.add_form=false;\n                  new_values={};\n                }\n                else\n                  this.dialog_errors=D.errors;\n            }\n          );\n\n\n\n        }\n  } // end methods\n}\n</script>\n<style scoped lang=\"scss\">\n\n  @import '@/styles/variables.scss';\n  .headline {padding: 0 0 0 20px; margin: 0; color: $primary;}\n  .v-dialog {max-width: 800px;}\n  .v-dialog .v-card {margin-top: 0; padding-top: 0; max-width: 800px;}\n  .v-dialog > .v-card > .v-card__title {padding-left: 0; padding-bottom: 20px; color: $primary;}\n  .v-btn {margin-left: 0;}\n  \n  .row .col {margin: 0; padding-right: 0; padding-top: 0;}\n  .dialog_head {width: 100%; margin: 20px 0 20px 0; border-bottom: 1px solid $primary; padding-bottom: 10px;}\n  .dialog_head div {display: inline-block; width: auto; color: $primary; font-size: 14pt; min-width: 50%;}\n  .dialog_head div.close {width: 50px; text-align: right;}\n  .v-icon:hover {color :$primary;}\n</style> ","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=2a9af6d8&scoped=true&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\nimport style0 from \"./form.vue?vue&type=style&index=0&id=2a9af6d8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a9af6d8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon})\n","<template>\n      <div>\n        <one_to_m_form \n          :form=\"form\"\n          :field=\"field\"\n          :dialog=\"dialog\"\n          :set_dialog=\"set_dialog\"\n          :values=\"values\"\n          :upload_values=\"upload_values\"\n        />\n        \n        <!-- multiload -->     \n        <template v-if=\"dialog_multiload\"> <!-- v-if для очистки формы-->\n          <v-dialog  v-model=\"dialog_multiload\" max-width=\"500\">\n            <v-card class=\"one_to_m\" >\n                <v-card-title  class=\"headline\">\n                  Загрузка нескольких файлов\n                </v-card-title>\n                <v-card-text class=\"multiload\">\n                    <form enctype=\"multipart-form/data\">                \n                      <input type=\"file\" multiple=\"multiple\" :name=\"this.multiload_name\">\n                    </form>\n                    <v-btn color=\"primary\" @click=\"start_multiload()\" small>Загрузить</v-btn>\n                </v-card-text>\n            </v-card>\n          </v-dialog> \n        </template>\n\n        \n        <template v-if=\"!form.id\">\n          <p>Данный блок можно редактировать только после создания основной карты</p>\n        </template>\n        \n        <template v-else-if=\"make_create\">\n          <a href=\"\" v-if=\"!dialog\" class=\"create\" @click.prevent=\"open_new_dialog()\">добавить</a>\n          <template v-if=\"multiload_name\">\n            | \n            <a href=\"\"  @click.prevent=\"start_dialog_multiload\"> загрузить несколько файлов</a>\n          </template>\n          <a href=\"\" v-if=\"dialog\" @click.prevent=\"dialog=false\"> скрыть</a>\n        </template>\n        <slide v-if=\"1\"\n          :values=\"values\"\n          :field=\"field\"\n          :form=\"form\"\n          :upload_values=\"upload_values\"\n          />\n      </div>\n</template>\n\n<script>\n  import { bus } from '../../main'\n  import Slide from './1_to_m/slide';\n  import one_to_m_form from './1_to_m/form';\n  \n\n\n  export default {\n    components:{\n       'slide':Slide,\n       'one_to_m_form': one_to_m_form\n    },\n  // опции\n  data:function(){\n    \n    return {\n      id:undefined,\n      dialog:false,\n      values:[],\n      save_action:'',\n      // загрузка нескольких файлов\n      dialog_multiload: false\n    }\n  },\n  props:['form','field'],\n  created(){\n    \n    bus.$on( // обновление значений в 1_to_m\n      '1_to_m:upload_values:'+this.field.name,\n      values=>{\n        this.upload_values(values)\n      }\n    );\n\n    if(!this.field.values)\n        this.field.values=[];\n    //this.create_edit_fields();\n    this.values=this.field.values;\n    \n    \n  },\n  watch:{\n    //dialog(){\n      \n    //}\n  },\n  computed:{\n    multiload_name(){ \n      // если элемент 1_to_m содежит 1 файл -- multiload_name равен имени этого файла\n      let cnt_files=0; let name_multiload='';\n      for(let cf of this.field.fields){\n        if(cf.type=='file'){\n          cnt_files++; name_multiload=cf.name\n        }\n        \n      }\n      return (cnt_files==1)?name_multiload:false\n\n    },\n    make_create(){\n      return (!this.form.read_only & !this.field.read_only && !this.field.not_create)\n    },\n    fields(){\n      let hash={};\n      for(let f of this.field.fields){\n        hash[f.name]=f\n      }\n      return hash;\n    }\n\n  },\n  methods: {\n    set_dialog(d){\n      this.dialog=d\n    },\n\n    upload_values(new_values){\n      this.values=new_values;\n      let f=this.field;\n      f.values=new_values;\n      bus.$emit('change_field', f);\n    },\n    open_new_dialog(){\n      bus.$emit('1_to_m_open_new_dialog:'+this.field.name);\n    },\n    // множественная загрузка файлов\n    start_dialog_multiload(){ // диалог для множественной загрузки файлов\n      this.dialog_multiload=true;\n    },\n    start_multiload(){\n      let file=document.querySelector('.multiload input[type=file]');\n    \n      if(file.files.length){\n        for(let f of file.files){      \n            let formData = new FormData();\n            //formData.append(this.multiload_name, f);\n            formData.append('attach', f);\n            this.$http.post(\n              BackendBase+'/1_to_m/upload_file/' + this.form.config+'/'+this.field.name + '/' + this.multiload_name + '/'+ this.form.id,\n              formData, {headers: {'Content-Type': 'multipart/form-data'}}\n            ).then(\n              response=>{\n                let D=response.data;\n                if(D.success){ \n                  if(D.values.length)\n                    for(let v of D.values){\n                      this.values.push(v)\n                    }\n                  this.dialog_multiload=false;\n                }\n                \n              }\n            ).catch(\n              e=>{\n                alert(e)\n              }\n            )\n        }\n      }\n    },\n    \n  },\n  \n  name:'one_to_m'\n}\n</script>\n<style lang=\"scss\" >\n  @import '@/styles/variables.scss';\n  table.one_to_m{\n    margin-top: 10px;\n    border-collapse: collapse;\n    margin-bottom: 10px;;\n    width: 100%;\n  }\n  table.one_to_m th{\n    color: $light;\n    background-color: $primary;\n    \n  }\n\ntable.one_to_m tr:nth-child(2n+1) {\n  background: $lighten5;\n} \n  table.one_to_m td, table.one_to_m th{\n    border: 1px solid $lighten2;\n    padding: 5px;\n    font-size: 10pt;\n    text-align: left;\n  }\n/*\n  table.one_to_m th:first-child {\n    border-top-left-radius: 10px;\n    border: none;\n  }\n  table.one_to_m th:last-child {\n    border-top-right-radius: 10px;\n    border: none;\n  }\n  table.one_to_m tr:last-child td:first-child {\n    border-bottom-left-radius: 10px;\n    \n  }\n  table.one_to_m tr:last-child td:last-child {\n    border-bottom-right-radius: 10px;\n  }\n*/\n  table.one_to_m td.tool{\n    padding:0;\n    text-align: center;\n    width: 60px;\n  }\n  div.one_to_m{\n    \n    border: 1px solid $lighten2;\n    padding: 1rem;\n    margin-bottom: 1rem;\n  }\n  div.one_to_m .h{color: $primary; font-size: 11pt;}\n  div.one_to_m .controls{position: absolute; right: 1rem; bottom: 0rem; padding-top: 2rem;}\n  /*.one_to_m.theme--light.v-card {background-color: #7dd5f857 !important;}*/\n  a.create {font-size: 12px;}  \n</style>}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./1_to_m.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./1_to_m.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./1_to_m.vue?vue&type=template&id=11d11970&\"\nimport script from \"./1_to_m.vue?vue&type=script&lang=js&\"\nexport * from \"./1_to_m.vue?vue&type=script&lang=js&\"\nimport style0 from \"./1_to_m.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDialog})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./1_to_m.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./1_to_m.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}