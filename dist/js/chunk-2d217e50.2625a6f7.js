(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217e50"],{c959:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",[e.apt.more?e._e():t("a",{attrs:{href:""},on:{click:function(a){return a.preventDefault(),e.show()}}},[e._v(e._s(e.apt_local.ur_address))])]),t("div",[e._v("Юридическое лицо: "+e._s(e.apt_local.ul_header))]),t("div",[e._v("Телефон юридического лица: "+e._s(e.apt_local.ul_phone))]),e.apt.more?t("v-card",[t("v-card-title",[t("div",[e._v("\n                  Заявка на изменение сведений"),t("br"),t("small",[e._v(e._s(e.apt_local.header))])])]),t("v-card-text",[e.success?[t("p",[e._v("Ваша заявка успешно отправлена!")]),t("v-btn",{ref:"button",attrs:{color:"primary",small:""},on:{click:function(a){e.success=e.success_off()}}},[e._v("Закрыть")]),e._v(" \n              ")]:[t("p",[e._v("Ваш менеджер: "+e._s(e.your_manager.name))]),t("v-checkbox",{attrs:{label:"Включить уведомления о подписке аптек"},model:{value:e.apt_local.on_notify,callback:function(a){e.$set(e.apt_local,"on_notify",a)},expression:"apt_local.on_notify"}}),t("v-text-field",{attrs:{label:"Наименование","error-messages":e.error.header},on:{keyup:e.check_data},model:{value:e.apt_local.header,callback:function(a){e.$set(e.apt_local,"header",a)},expression:"apt_local.header"}}),t("v-text-field",{attrs:{label:"ИНН","error-messages":e.error.inn},on:{keyup:e.check_data},model:{value:e.apt_local.inn,callback:function(a){e.$set(e.apt_local,"inn",a)},expression:"apt_local.inn"}}),t("v-text-field",{attrs:{label:"Юридический адрес","error-messages":e.error.ur_address},on:{keyup:e.check_data},model:{value:e.apt_local.ur_address,callback:function(a){e.$set(e.apt_local,"ur_address",a)},expression:"apt_local.ur_address"}}),t("v-text-field",{attrs:{label:"Телефон","error-messages":e.error.phone},on:{keyup:e.check_data},model:{value:e.apt_local.phone,callback:function(a){e.$set(e.apt_local,"phone",a)},expression:"apt_local.phone"}}),t("v-text-field",{attrs:{label:"Email","error-messages":e.error.email},on:{keyup:e.check_data},model:{value:e.apt_local.email,callback:function(a){e.$set(e.apt_local,"email",a)},expression:"apt_local.email"}}),t("v-text-field",{attrs:{label:"Email для оповещений","error-messages":e.error.email_for_notify},on:{keyup:e.check_data},model:{value:e.apt_local.email_for_notify,callback:function(a){e.$set(e.apt_local,"email_for_notify",a)},expression:"apt_local.email_for_notify"}})],t("errors",{attrs:{errors:e.errors}})],2),e.success?e._e():t("v-card-actions",[[t("v-btn",{ref:"button",attrs:{color:"primary",small:""},on:{click:function(a){return e.send_order()}}},[e._v("Отправить заявку")]),e._v(" \n          ")],t("v-btn",{ref:"button",attrs:{color:"red",small:""},on:{click:function(a){return e.hide()}}},[e._v("Отменить")])],2)],1):e._e()],1)},o=[],l=t("4bb9"),s={props:["apt","set_apt","your_manager","get_reg_data"],created(){this.apt_local=this.apt},data(){return{apt_local:{},success:!1,errors:[],error:{header:"",inn:"",phone:"",email:"",ur_address:""}}},computed:{data_ok(){for(let e in this.error)if(this.error[f])return console.log("error:",f,this.manager_error[f]),!1;return!0}},methods:{success_off(){this.success=!1,this.hide(),this.get_reg_data()},check_data(){this.apt_local.phone=Object(l["e"])(this.apt_local.phone);for(let e in this.error)this.error[e]="";Object(l["d"])(this.apt_local.phone)||(this.error["phone"]="Введите номер телефона в правильном формате"),this.apt_local.ur_address||(this.error["ur_address"]="Укажите юридический адрес"),/^(\d{10}|\d{12})?$/.test(this.apt_local.inn)||(this.error["inn"]="В ИНН должно быть 10 или 12 цифр"),Object(l["a"])(this.apt_local.email)||(this.error["email"]="Электронный адрес не валиден"),this.apt_local.email_for_notify&&!Object(l["a"])(this.apt_local.email_for_notify)&&(this.error["email_for_notify"]="Электронный адрес не валиден")},show(){this.apt_local.more=!0,this.set_apt(this.apt_local)},hide(){this.apt_local.more=!1,this.set_apt(this.apt_local)},send_order(){let e=this.apt_local;this.$http.post(BackendBase+"/anna/change-apteka-order",{apteka_id:e.id,header:e.header,inn:e.inn,phone:e.phone,email:e.email,email_for_notify:e.email_for_notify,ur_address:e.ur_address,on_notify:e.on_notify?1:0}).then(e=>{let a=e.data;a.success&&(this.success=!0,this.get_reg_data()),this.errors=a.errors})}}},c=s,n=t("2877"),i=t("6544"),_=t.n(i),d=t("8336"),p=t("b0af"),h=t("99d9"),u=t("ac7c"),m=t("8654"),v=Object(n["a"])(c,r,o,!1,null,null,null);a["default"]=v.exports;_()(v,{VBtn:d["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCheckbox:u["a"],VTextField:m["a"]})}}]);
//# sourceMappingURL=chunk-2d217e50.2625a6f7.js.map