(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-469313e7"],{a523:function(e,s,t){"use strict";t("20f6"),t("4b85");var a=t("e8f2"),r=t("d9f7");s["a"]=Object(a["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(e,{props:s,data:t,children:a}){let o;const{attrs:i}=t;return i&&(t.attrs={},o=Object.keys(i).filter(e=>{if("slot"===e)return!1;const s=i[e];return e.startsWith("data-")?(t.attrs[e]=s,!1):s||"string"===typeof s})),s.id&&(t.domProps=t.domProps||{},t.domProps.id=s.id),e(s.tag,Object(r["a"])(t,{staticClass:"container",class:Array({"container--fluid":s.fluid}).concat(o||[])}),a)}})},ac58:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("v-app",[t("v-container",[t("v-card",{staticClass:"mx-auto auth",attrs:{"max-width":"344"}},[t("v-card-title",{staticClass:"headline"},[e._v("\n                Напоминание пароля \n              ")]),0==e.step?[t("v-card-text",[t("v-text-field",{attrs:{label:e.show_labels?"Ваш логин":"",id:"login"},model:{value:e.login,callback:function(s){e.login=s},expression:"login"}})],1),t("v-card-actions",[t("v-btn",{ref:"button",attrs:{color:"primary",disabled:!e.login_ok,small:""},on:{click:function(s){return e.remember()}}},[e._v("Напомнить пароль")])],1)]:1==e.step?[t("v-card-text",[t("p",[e._v("Мы отправили на Ваш Email код доступа для восстановления пароля. Пожалуйста, укажите его здесь, либо перейдите по ссылке из письма")]),t("v-text-field",{attrs:{label:e.show_labels?"Код доступа":"",id:"login"},model:{value:e.remember_code,callback:function(s){e.remember_code=s},expression:"remember_code"}})],1),t("v-card-actions",[t("v-btn",{ref:"button",attrs:{color:"primary",disabled:!e.remember_code,small:""},on:{click:function(s){return e.check_remember_code()}}},[e._v("Восстановить пароль")])],1)]:2==e.step?[t("v-card-text",[t("p",[e._v("Отлично, проверочный код подошёл, теперь задайте новый пароль")]),t("v-text-field",{attrs:{label:"Новый пароль",type:"password"},on:{keyup:e.check_pass_ok},model:{value:e.pass1,callback:function(s){e.pass1=s},expression:"pass1"}}),t("v-text-field",{attrs:{label:"Новый пароль (ещё раз)",type:"password"},on:{keyup:e.check_pass_ok},model:{value:e.pass2,callback:function(s){e.pass2=s},expression:"pass2"}}),t("div",{staticClass:"err"},[e._v(e._s(e.pass_err))]),t("errors",{attrs:{errors:e.errors}})],1),t("v-card-actions",[t("v-btn",{ref:"button",attrs:{color:"primary",disabled:!e.pass_ok,small:""},on:{click:function(s){return e.change_password()}}},[e._v("Изменить старый пароль")])],1)]:3==e.step?[t("v-card-text",[t("p",[e._v("Поздравляем, Ваш пароль изменён")]),t("a",{attrs:{href:"/login"}},[e._v("перейти к авторизации")])]),t("v-card-actions",[t("v-btn",{ref:"button",attrs:{color:"primary",disabled:!e.pass_ok,small:""},on:{click:function(s){return e.change_password()}}},[e._v("Изменить старый пароль")])],1)]:e._e()],2)],1)],1)},r=[],o={data:()=>({show_labels:!0,login:"",pass1:"",pass2:"",pass_ok:!1,pass_err:"",remember_code:"",step:0,id:"",dialog:!0,errors:[]}),mounted(){},created(){this.check_pass_ok()},watch:{step(){this.errors=[],this.pass1="",this.pass2=""},login(){this.errors=[]}},methods:{remember(){this.$http.post(BackendBase+"/remember/get-access-code",{login:this.login}).then(e=>{let s=e.data;s.success&&(this.step=1),this.errors=s.errors})},check_remember_code(){this.$http.post(BackendBase+"/remember/check-access-code",{remember_code:this.remember_code}).then(e=>{let s=e.data;s.success&&(this.step=2,this.id=s.id)})},check_pass_ok(){if(this.pass1&&this.pass2)if(this.pass1!=this.pass2)this.pass_err="пароли не совпадают";else if(/^[a-zA-Z0-9\.\-#@\!%\^,\?;\]\[\{\}\(\)\s\*&]+$/.test(this.pass1)){if(!(this.pass1.length<8))return this.pass_ok=!0,void(this.pass_err="");this.pass_err="длина пароля не должна быть менее 8-ми символов"}else this.pass_err="недопустимые символы, проверьте раскладку";this.pass_ok=!1},change_password(){this.$http.post(BackendBase+"/remember/change-password",{id:this.id,remember_code:this.remember_code,password:this.pass1}).then(e=>{let s=e.data;s.success?this.step=3:this.errors=s.errors})}},computed:{login_ok(){return!0}}},i=o,c=(t("bdd0"),t("2877")),n=t("6544"),l=t.n(n),d=t("7496"),p=t("8336"),h=t("b0af"),m=t("99d9"),u=t("a523"),_=t("8654"),b=Object(c["a"])(i,a,r,!1,null,null,null);s["default"]=b.exports;l()(b,{VApp:d["a"],VBtn:p["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VContainer:u["a"],VTextField:_["a"]})},b045:function(e,s,t){},bdd0:function(e,s,t){"use strict";var a=t("b045"),r=t.n(a);r.a}}]);
//# sourceMappingURL=chunk-469313e7.0bbb1348.js.map