{"version":3,"sources":["webpack:///./src/components/fields/docpack/dogovor.vue?7cab","webpack:///./src/components/fields/docpack.vue?d0f4","webpack:///./src/components/fields/docpack.vue?936b","webpack:///./src/components/fields/docpack/dogovor.vue?dfd0","webpack:///src/components/fields/docpack/dogovor.vue","webpack:///./src/components/fields/docpack/dogovor.vue?7501","webpack:///./src/components/fields/docpack/dogovor.vue","webpack:///./src/components/fields/docpack/docpack_new.vue?a880","webpack:///src/components/fields/docpack/docpack_new.vue","webpack:///./src/components/fields/docpack/docpack_new.vue?70bf","webpack:///./src/components/fields/docpack/docpack_new.vue","webpack:///src/components/fields/docpack.vue","webpack:///./src/components/fields/docpack.vue?777a","webpack:///./src/components/fields/docpack.vue","webpack:///./src/components/fields/docpack/docpack_new.vue?c381"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","model","value","callback","$$v","dialog","expression","_v","_s","errors","_l","e","idx","key","staticClass","attrs","form","field","load","_e","dp","id","cnt_bill","on","$event","preventDefault","remove","tarif_id","tarif","ur_lico_id","ur_lico","manager","registered","dogovor","config","permissions","staticRenderFns","show","number","load_dog_link","show_new_bill_form","parseInt","docpack","make_new_bill","success","new_summ","show_comment","new_comment","new_summ_ok","create_bill","b","summ","comment","load_bill_link","paid","paid_date","paid_to","data","bills","props","watch","v","length","replace","$nextTick","test","computed","methods","bill","format","without_print","$http","post","BackendBase","name","action","dogovor_id","docpack_id","then","r","d","list","component","VBtn","VCard","VCardTitle","VIcon","VTextField","VTextarea","tarif_list","ur_lico_list","manager_list","manager_id","save","cur_manager_id","need_manager_field","init","refresh_docpack_list","VSelect","VDialog","VListItem","VListItemContent","VList"],"mappings":"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","file":"js/chunk-67c5d9d3.ec2ee3e9.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dogovor.vue?vue&type=style&index=0&id=2bef645e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dogovor.vue?vue&type=style&index=0&id=2bef645e&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack.vue?vue&type=style&index=0&id=287fee78&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack.vue?vue&type=style&index=0&id=287fee78&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{staticStyle:{\"min-height\":\"100px\",\"width\":\"800px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_vm._v(\"\\n            \"+_vm._s(_vm.errors)+\"\\n            \"),_vm._l((_vm.errors),function(e,idx){return _c('div',{key:idx,staticClass:\"err\"},[_vm._v(_vm._s(e))])})],2)],1),_c('docpack_new',{attrs:{\"form\":this.form,\"field\":this.field,\"refresh_docpack_list\":_vm.load}}),(0)?_c('pre',[_vm._v(_vm._s(_vm.permissions))]):_vm._e(),_vm._l((_vm.list),function(dp){return _c('v-card',{key:dp.id,staticClass:\"one_to_m\"},[(dp.cnt_bill==0)?_c('div',[_vm._v(\"\\n            пакет документов не содержит счетов, его можно\\n            \"),_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove(dp)}}},[_vm._v(\"удалить\")])]):_vm._e(),_c('v-list-item',[_c('v-list-item-content',[_c('div',[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"primary\"}},[_vm._v(\"edit\")]),_c('a',{attrs:{\"href\":'/edit_form/docpack/'+dp.id,\"target\":\"_blank\"}},[_vm._v(\"Редактировать пакет документов\")])],1),_c('div',[_vm._v(\"Тариф: \"),_c('a',{attrs:{\"href\":'/edit_form/tarif/'+dp.tarif_id,\"target\":\"_blank\"}},[_vm._v(_vm._s(dp.tarif))])]),_c('div',[_vm._v(\"Юр.лицо: \"),_c('a',{attrs:{\"href\":'/edit_form/ur_lico/'+dp.ur_lico_id,\"target\":\"_blank\"}},[_vm._v(_vm._s(dp.ur_lico))])]),_c('div',[_vm._v(\"Менеджер: \"+_vm._s(dp.manager)+\" / \"+_vm._s(dp.registered))]),_vm._l((dp.dogovor_list),function(dogovor){return _c('dogovor',{key:dogovor.id,attrs:{\"field\":_vm.field,\"dogovor\":dogovor,\"config\":_vm.form.config,\"form\":_vm.form,\"docpack\":dp,\"permissions\":_vm.permissions}})})],2)],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"$color.primary\"},on:{\"click\":function($event){_vm.show=!_vm.show}}},[(_vm.show)?[_vm._v(\"fa-minus\")]:[_vm._v(\"fa-plus\")]],2),_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.show=!_vm.show}}},[_vm._v(\"Договор №\"+_vm._s(_vm.dogovor.number)+\" от \"+_vm._s(_vm.dogovor.registered))]),(_vm.show)?[_c('div',[_vm._v(\"\\n            с печатями: \"),_c('a',{attrs:{\"href\":_vm.load_dog_link('doc')}},[_vm._v(\"doc\")]),_vm._v(\" |\\n            \"),_c('a',{attrs:{\"href\":_vm.load_dog_link('pdf')}},[_vm._v(\"pdf\")])]),_c('div',[_vm._v(\"\\n            без печатей: \"),_c('a',{attrs:{\"href\":_vm.load_dog_link('doc',1)}},[_vm._v(\"doc\")]),_vm._v(\" |\\n            \"),_c('a',{attrs:{\"href\":_vm.load_dog_link('pdf',1)}},[_vm._v(\"pdf\")])]),_c('v-card',{staticClass:\"new_bill\"},[(!_vm.show_new_bill_form)?_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.show_new_bill_form=true}}},[_vm._v(\" новый счёт\")]):[_c('v-card-title',{on:{\"click\":function($event){_vm.show_new_bill_form=false}}},[_vm._v(\"Новый счёт\")]),(parseInt(_vm.docpack.make_new_bill))?[(_vm.success)?_c('div',{staticClass:\"success\"},[_vm._v(\"\\n                        Счёт был успешно добавлен. \"),_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.success=false;}}},[_c('b',[_vm._v(\"добавить ещё\")])])]):[_c('v-text-field',{staticStyle:{\"max-width\":\"100px\"},attrs:{\"autofocus\":\"\",\"label\":\"укажите сумму\"},model:{value:(_vm.new_summ),callback:function ($$v) {_vm.new_summ=$$v},expression:\"new_summ\"}}),(_vm.new_summ>0 && !_vm.show_comment)?_c('a',{attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.show_comment=true}}},[_vm._v(\"нужен комментарий?\")]):_vm._e(),(_vm.show_comment)?_c('v-textarea',{attrs:{\"label\":\"теперь можете ввести комментарий к счёту\",\"auto-grow\":\"\",\"autofocus\":\"\",\"rows\":\"1\"},model:{value:(_vm.new_comment),callback:function ($$v) {_vm.new_comment=$$v},expression:\"new_comment\"}}):_vm._e(),_vm._l((_vm.errors),function(e,idx){return _c('div',{key:'e'+idx},[_vm._v(_vm._s(e))])}),(_vm.new_summ>0 && _vm.new_summ_ok)?_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.create_bill}},[_vm._v(\"создать счёт\")]):_vm._e(),(!_vm.new_summ_ok)?_c('div',{staticClass:\"err\"},[_vm._v(\"\\n                            сумма указана не корректно\\n                        \")]):_vm._e()]]:_c('div',{staticClass:\"err\"},[_vm._v(\"\\n                    Вам запрещено создавать счета\\n                \")])]],2),_vm._l((_vm.bills),function(b){return _c('v-card',{key:b.id},[_c('v-card-title',[_vm._v(\"Счёт №\"+_vm._s(b.number)+\" от \"+_vm._s(b.registered)+\" | \"),_c('a',{attrs:{\"href\":'/edit_form/bill/'+b.id,\"target\":\"_blank\"}},[_vm._v(\"к счёту\")])]),_c('div',[_c('b',[_vm._v(\"Сумма:\")]),_vm._v(\" \"+_vm._s(b.summ))]),_c('div',[_c('b',[_vm._v(\"Комментарий:\")]),_vm._v(\" \"+_vm._s(b.comment))]),_c('div',[_c('a',{attrs:{\"href\":'/backend/load_document?doc_pack_id='+_vm.docpack.id+'&bill_id='+b.id+'&format=doc&type=paid'}},[_vm._v(\"платёжка (для частного лица)\")])]),_c('div',[_vm._v(\"\\n                с печатями: \"),_c('a',{attrs:{\"href\":_vm.load_bill_link(b,'doc')}},[_vm._v(\"doc\")]),_vm._v(\" |\\n                \"),_c('a',{attrs:{\"href\":_vm.load_bill_link(b,'pdf')}},[_vm._v(\"pdf\")])]),_c('div',[_vm._v(\"\\n                без печатей: \"),_c('a',{attrs:{\"href\":_vm.load_bill_link(b,'doc',1)}},[_vm._v(\"doc\")]),_vm._v(\" |\\n                \"),_c('a',{attrs:{\"href\":_vm.load_bill_link(b,'pdf',1)}},[_vm._v(\"pdf\")])]),(parseInt(b.paid))?[_c('div',[_c('b',[_vm._v(\"дата оплаты:\")]),_vm._v(\" \"+_vm._s(b.paid_date))]),_c('div',[_c('b',[_vm._v(\"оплачен до:\")]),_vm._v(\"  \"+_vm._s(b.paid_to))])]:_c('div',{staticClass:\"not_paid\"},[_vm._v(\"не оплачен\")])],2)})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n\n        <v-icon small color=\"$color.primary\" @click=\"show=!show\"> \n            <template v-if=\"show\">fa-minus</template>\n            <template v-else>fa-plus</template>\n        </v-icon> \n\n        <a href=\"\" @click.prevent=\"show=!show\">Договор №{{dogovor.number}} от {{dogovor.registered}}</a> \n\n\n        <template v-if=\"show\">\n            <div>\n                с печатями: <a :href=\"load_dog_link('doc')\">doc</a> |\n                <a :href=\"load_dog_link('pdf')\">pdf</a>\n            </div>\n            <div>\n                без печатей: <a :href=\"load_dog_link('doc',1)\">doc</a> |\n                <a :href=\"load_dog_link('pdf',1)\">pdf</a>\n            </div>\n\n            <v-card class=\"new_bill\" >\n                <a href=\"\" @click.prevent=\"show_new_bill_form=true\" v-if=\"!show_new_bill_form\"> новый счёт</a>\n                <template v-else>\n                    <v-card-title @click=\"show_new_bill_form=false\">Новый счёт</v-card-title>\n                    \n                    <template v-if=\"parseInt(docpack.make_new_bill)\">\n                        <div class=\"success\" v-if=\"success\">\n                            Счёт был успешно добавлен. <a href=\"\" @click.prevent=\"success=false;\"><b>добавить ещё</b></a>\n                        </div>\n                        <template v-else>\n                            <v-text-field style=\"max-width: 100px;\" autofocus label=\"укажите сумму\" v-model=\"new_summ\"></v-text-field>\n                            <a href=\"\" @click.prevent=\"show_comment=true\" v-if=\"new_summ>0 && !show_comment\">нужен комментарий?</a>\n                            <v-textarea v-if=\"show_comment\"\n\n                                label=\"теперь можете ввести комментарий к счёту\"\n                                v-model=\"new_comment\"\n                                auto-grow  \n                                autofocus\n                                rows=1\n                            />\n                            \n                            \n                            <!-- сообщения об ошибках -->\n                            <div v-for=\"(e,idx) in errors\" :key=\"'e'+idx\">{{e}}</div>\n                            \n                            <v-btn v-if=\"new_summ>0 && new_summ_ok\" small color=\"primary\" @click=\"create_bill\">создать счёт</v-btn>\n                            <div v-if=\"!new_summ_ok\" class=\"err\">\n                                сумма указана не корректно\n                            </div>\n                        </template>\n                    </template>\n                    <div class=\"err\" v-else>\n                        Вам запрещено создавать счета\n                    </div>\n                </template>\n            </v-card>\n            <v-card v-for=\"b in bills\" :key=\"b.id\" >\n                <v-card-title>Счёт №{{b.number}} от {{b.registered}} |&nbsp;<a :href=\"'/edit_form/bill/'+b.id\" target=\"_blank\">к счёту</a></v-card-title>                \n                <div><b>Сумма:</b> {{b.summ}}</div>\n                \n                \n                <div><b>Комментарий:</b> {{b.comment}}</div>\n                <div><a :href=\"'/backend/load_document?doc_pack_id='+docpack.id+'&bill_id='+b.id+'&format=doc&type=paid'\">платёжка (для частного лица)</a></div>\n                \n\n                <div>\n                    с печатями: <a :href=\"load_bill_link(b,'doc')\">doc</a> |\n                    <a :href=\"load_bill_link(b,'pdf')\">pdf</a>\n                </div>\n                <div>\n                    без печатей: <a :href=\"load_bill_link(b,'doc',1)\">doc</a> |\n                    <a :href=\"load_bill_link(b,'pdf',1)\">pdf</a>\n                </div>\n                <template v-if=\"parseInt(b.paid)\">\n                    <div><b>дата оплаты:</b> {{b.paid_date}}</div>\n                    <div><b>оплачен до:</b>  {{b.paid_to}}</div>\n                </template>\n                <div v-else class=\"not_paid\">не оплачен</div>\n                \n            </v-card>\n        </template>\n    </div>\n</template>\n\n<script>\n  \n  export default {\n    data:function(){\n        return {\n            show:false,\n            bills:[], // список счетов\n            errors:[],\n            show_comment:false,\n            new_summ:0,\n            new_comment:'',\n            errors:[],\n            success: false,\n            show_new_bill_form: false\n        }\n    },\n    props:['docpack','dogovor','config','field','form'], \n\n    watch:{\n        show(v){\n            if(v && !this.bills.length){\n                this.load()\n            }\n        },\n        new_summ(v){\n            if(!this.new_summ_ok){\n                \n                v=v.replace(/,/g,'.');\n                v=v.replace(/[^\\.\\d]+/g,'');\n                \n                v=v.replace(/\\.\\.+/g,'.');\n                v=v.replace(/^\\d+.\\d+\\..*$/g,'$1$2');\n                v=v.replace(/(.\\d{2})\\d+$/g,'$1');\n                this.$nextTick(()=>{this.new_summ=v;})\n            }\n            if(/^0+([1-9])/.test(v)){\n                v=v.replace(/^0+([1-9])/,'$1');\n                this.$nextTick(()=>{this.new_summ=v;})\n            }\n            \n        }\n    },\n    created(){\n        \n    },\n    computed:{\n\n        new_summ_ok(){\n            return /^\\d+(\\.\\d+)?$/.test(this.new_summ)\n        }\n    },\n    methods: {\n        load_bill_link(bill,format,without_print){\n            return '/backend/load_document?doc_pack_id='+this.docpack.id+'&bill_id='+bill.id+'&format='+format+'&type=bill'+(without_print?'&without_print=1':'')\n        },\n        load_dog_link(format,without_print){\n            return '/backend/load_document?doc_pack_id='+this.docpack.id+'&format='+format+'&type=dogovor'+(without_print?'&without_print=1':'')\n        },\n        load(){\n            this.$http.post(\n                BackendBase+'/docpack/'+this.config+'/'+this.field.name,\n                {\n                    action:'get_bills',\n                    id:this.form.id,\n                    dogovor_id:this.dogovor.docpack_id\n                }\n            ).then(\n                r=>{\n                    let d=r.data;\n                    if(d.success){\n                        this.bills=d.list;\n                    }\n                    this.errors=d.errors\n                }\n            )\n        },\n        create_bill(){\n            this.$http.post(\n                BackendBase+'/docpack/'+this.config+'/'+this.field.name,\n                {\n                    action:'create_bill',\n                    dogovor_id:this.dogovor.docpack_id,\n                    summ: this.new_summ,\n                    comment: this.new_comment,\n                    id: this.form.id\n                }\n            ).then(\n                r=>{\n                    let d=r.data;\n                    if(d.success){\n                        this.new_summ='0', this.new_comment='', this.show_comment=false, this.success=true\n                        this.load()\n                    }\n                }\n            )\n        }\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n    @import '@/styles/variables.scss';\n    \n    .row { padding-left: 20px;}\n    .col { font-size: 10px; border-bottom: none; padding: none;}\n    .v-icon {margin-right: 10px;}\n    .header {font-weight: bold; /*color: rgb(63,81,181)*/}\n    .v-card {padding-left: 0; border: 1px solid $primary; margin-bottom:10px; background-color: $lighten5; margin-top: 10px;}\n    .v-card div {padding: 4px 16px;}\n    .v-card__title {font-size: 12px; font-weight: bold; color: $primary;}\n    .not_paid {color: $error; font-weight: bold;}\n    .v-application .success  {border: 1px solid $primary; border-radius: 5px; background-color: $lighten4 !important; padding: 10px;}\n    \n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dogovor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dogovor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dogovor.vue?vue&type=template&id=2bef645e&scoped=true&\"\nimport script from \"./dogovor.vue?vue&type=script&lang=js&\"\nexport * from \"./dogovor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dogovor.vue?vue&type=style&index=0&id=2bef645e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bef645e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VIcon,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"new\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.show=!_vm.show}}},[_vm._v(\"fa-plus\")]),_vm._v(\"\\n         \"),_c('a',{attrs:{\"href\":\"\",\"target\":\"_blank\"},on:{\"click\":function($event){$event.preventDefault();_vm.show=!_vm.show}}},[_vm._v(\"новый пакет документов\")])],1),(_vm.show)?_c('v-card',[_c('v-card-title',[_vm._v(\"Новый пакет документов\")]),_c('v-select',{attrs:{\"label\":\"Тариф\",\"items\":_vm.tarif_list,\"item-value\":\"v\",\"item-text\":\"d\"},model:{value:(_vm.tarif_id),callback:function ($$v) {_vm.tarif_id=$$v},expression:\"tarif_id\"}}),_c('v-select',{attrs:{\"label\":\"Юр.лицо\",\"items\":_vm.ur_lico_list,\"item-value\":\"v\",\"item-text\":\"d\"},model:{value:(_vm.ur_lico_id),callback:function ($$v) {_vm.ur_lico_id=$$v},expression:\"ur_lico_id\"}}),(_vm.need_manager_field)?_c('v-select',{attrs:{\"label\":\"Менеджер\",\"items\":_vm.manager_list,\"item-value\":\"v\",\"item-text\":\"d\"},model:{value:(_vm.manager_id),callback:function ($$v) {_vm.manager_id=$$v},expression:\"manager_id\"}}):_vm._e(),_vm._l((_vm.errors),function(e){return _c('div',{key:e,staticClass:\"err\"},[_vm._v(_vm._s(e))])}),(_vm.form_ok)?_c('v-btn',{attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"new\">\n            <v-icon small color=\"primary\" @click=\"show=!show\">fa-plus</v-icon>\n            &nbsp;<a href=\"\" @click.prevent=\"show=!show\" target=\"_blank\">новый пакет документов</a>\n        </div>\n        <v-card v-if=\"show\">\n            <v-card-title>Новый пакет документов</v-card-title>\n            <!-- <div v-if=\"success\" class=\"success\">\n                <p>Пакет документов успешно создан </p>\n                <v-btn v-if=\"form_ok\" color=\"primary\" small @click=\"success=false\">Ок</v-btn>\n            </div> -->\n             <v-select\n                label=\"Тариф\"\n                v-model=\"tarif_id\"\n                :items=\"tarif_list\"\n                item-value=\"v\"\n                item-text=\"d\"\n             />\n             <v-select\n                label=\"Юр.лицо\"\n                v-model=\"ur_lico_id\"\n                :items=\"ur_lico_list\"\n                item-value=\"v\"\n                item-text=\"d\"\n             />\n             <v-select\n                v-if=\"need_manager_field\"\n                label=\"Менеджер\"\n                v-model=\"manager_id\"\n                :items=\"manager_list\"\n                item-value=\"v\"\n                item-text=\"d\"\n             />\n             \n             <div class=\"err\" v-for=\"e in errors\" :key=\"e\">{{e}}</div>\n             <v-btn v-if=\"form_ok\" color=\"primary\" small @click=\"save\">Сохранить</v-btn>\n\n        </v-card>\n    </div>\n</template>\n\n<script>\n  \n  export default {\n    data:function(){\n        return {\n            tarif_list:[],\n            ur_lico_list: [],\n            manager_list:[],\n            cur_manager_id:0,\n            manager_id:0,\n            tarif_id: 0,\n            ur_lico_id: 0,\n            need_manager_field:false,\n            show: false,\n            success:false,\n            errors:['djkksjkjs']\n        }\n    },\n    props:['field','form','refresh_docpack_list'], \n    computed:{\n        form_ok(){\n            return this.tarif_id>0 && this.ur_lico_id>0\n        }\n    },\n    watch:{\n        show(v){\n            if(v)\n                this.init()\n        }\n    },\n    created(){\n        //this.init()\n    },\n\n    methods: {\n        init(){\n            if(!this.form.id) return\n            this.$http.post(\n                BackendBase+'/docpack/'+this.form.config+'/'+this.field.name,\n                {\n                    id:this.form.id,\n                    action:'init_new_docpack_form'\n                }\n            ).then(\n                r=>{\n                    let d=r.data;\n                    this.errors=d.errors\n                    //console.log({errors:d.errors,d});\n                    if(d.success){\n                        this.ur_lico_list=d.ur_lico_list, this.tarif_list=d.tarif_list,\n                        this.manager_id=d.cur_manager_id, this.cur_manager_id=d.cur_manager_id,\n                        this.need_manager_field=d.need_manager_field,\n                        this.manager_list=d.manager_list\n                    }\n                    \n                }\n            )\n        },\n        save(){\n            this.$http.post(\n                BackendBase+'/docpack/'+this.form.config+'/'+this.field.name,\n                {\n                    id:this.form.id,\n                    action:'create_docpack',\n                    manager_id:this.manager_id,\n                    tarif_id:this.tarif_id,\n                    ur_lico_id:this.ur_lico_id\n                }\n            ).then(\n                r=>{\n                    let d=r.data;\n                    this.errors=d.errors\n                    if(d.success){\n                        this.success=true;\n                        this.refresh_docpack_list();\n                        this.manager_id=this.cur_manager_id,\n                        this.ur_lico_id=0; this.tarif_id=0;\n                        this.show=false;\n                    }\n                    \n                }\n            )\n        }\n    }\n}\n</script>\n<style scoped lang=\"scss\">\n    @import '@/styles/variables.scss';\n    .v-card {padding: 10px;}\n    \n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack_new.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack_new.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./docpack_new.vue?vue&type=template&id=7cefdc45&scoped=true&\"\nimport script from \"./docpack_new.vue?vue&type=script&lang=js&\"\nexport * from \"./docpack_new.vue?vue&type=script&lang=js&\"\nimport style0 from \"./docpack_new.vue?vue&type=style&index=0&id=7cefdc45&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cefdc45\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VIcon,VSelect})\n","<template>\n    <div>\n        <v-dialog v-model=\"dialog\" style=\"min-height: 100px; width: 800px;\">\n            <v-card>\n                {{errors}}\n                <div class=\"err\" v-for=\"(e,idx) in errors\" :key=\"idx\">{{e}}</div>\n            </v-card>\n        </v-dialog>\n        <docpack_new\n            :form=\"this.form\"\n            :field=\"this.field\"\n            :refresh_docpack_list=\"load\"\n        />\n\n        \n        \n\n        <pre v-if=\"0\">{{permissions}}</pre>\n        <v-card class=\"one_to_m\"  v-for=\"dp in list\" :key=\"dp.id\">\n            <div v-if=\"dp.cnt_bill==0\">\n                пакет документов не содержит счетов, его можно\n                <a href=\"\" @click.prevent=\"remove(dp)\">удалить</a>\n            </div>\n            \n\n            <v-list-item>\n\n                <v-list-item-content>\n                    \n                    <div>\n                        <v-icon  small  color=\"primary\">edit</v-icon>\n                        <a :href=\"'/edit_form/docpack/'+dp.id\" target=\"_blank\">Редактировать пакет документов</a>\n                    </div>\n                    <div>Тариф: <a :href=\"'/edit_form/tarif/'+dp.tarif_id\" target=\"_blank\">{{dp.tarif}}</a></div>\n                    <div>Юр.лицо: <a :href=\"'/edit_form/ur_lico/'+dp.ur_lico_id\" target=\"_blank\">{{dp.ur_lico}}</a></div>\n                    <div>Менеджер: {{dp.manager}} / {{dp.registered}}</div>\n\n                    <dogovor\n                        v-for=\"dogovor in dp.dogovor_list\"\n                        :key=\"dogovor.id\"\n                        :field=\"field\"\n                        :dogovor=\"dogovor\"\n                        :config=\"form.config\"\n                        :form=\"form\"\n                        :docpack=\"dp\"\n                        :permissions=\"permissions\"\n                        \n                    />\n                </v-list-item-content>\n            </v-list-item>\n\n\n            \n        </v-card>\n    </div>\n</template>\n\n<script>\n  import { bus } from '../../main'\n  import dogovor from './docpack/dogovor.vue';\n  import docpack_new from './docpack/docpack_new.vue';\n  export default {\n    components:{\n        'dogovor':dogovor,\n        docpack_new: docpack_new\n    },\n    data:function(){\n        return {\n            list:[], // список пакетов документов\n            errors:[],\n            permissions:{},\n            dialog:false\n\n        }\n    },\n    props:['form','field','parent','refresh'],\n    created(){\n        if(this.form.id) this.load()\n    },\n    computed:{\n\n\n    },\n    methods: {\n\n        load(){\n            this.$http.post(\n                BackendBase+'/docpack/'+this.form.config+'/'+this.field.name,\n                {\n                    action:'list',\n                    id:this.form.id\n                }\n            ).then(\n                r=>{\n                    let d=r.data;\n                    if(d.success){\n                        for(let dp of d.list)\n                            dp.dogovor_list_show=false\n                        this.list=d.list;\n                        this.permissions=d.permissions;\n                    }\n                    this.errors=d.errors\n                }\n            )\n        },\n        remove(dp){\n            this.$http.post(\n                BackendBase+'/docpack/'+this.form.config+'/'+this.field.name,\n                {\n                    action:'docpack_delete',\n                    id:this.form.id,\n                    docpack_id: dp.id\n                }\n            ).then(\n                r=>{\n                    let d=r.data;\n                    if(d.success){\n                        let arr=[]\n                        for(let p of this.list){\n                            if(p.id!=dp.id)\n                                arr.push(p)\n                        }\n                        this.list=arr\n                    }\n                    this.errors=d.errors;\n                    if(d.errors.length){\n                        \n                        this.dialog=true\n                    }\n                    \n                }\n            )\n        },\n        to_docpack_edit(id){\n            window.open('/edit_form/docpack/'+id, '_blank');\n        }\n\n    }\n  }\n</script>\n<style scoped>\n    .new {margin-bottom: 10px;}\n    .v-icon {margin-right: 10px;}\n    .header {display: inline-block; font-weight: bold; max-width: 40%;}\n    .to_dp_link {font-size: 0.8rem;}\n    .v-card div{padding-bottom: 10px;}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./docpack.vue?vue&type=template&id=287fee78&scoped=true&\"\nimport script from \"./docpack.vue?vue&type=script&lang=js&\"\nexport * from \"./docpack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./docpack.vue?vue&type=style&index=0&id=287fee78&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"287fee78\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VDialog,VIcon,VListItem,VListItemContent})\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack_new.vue?vue&type=style&index=0&id=7cefdc45&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./docpack_new.vue?vue&type=style&index=0&id=7cefdc45&scoped=true&lang=scss&\""],"sourceRoot":""}